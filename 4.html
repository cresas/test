<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Enerji Bi√ßimleri ‚Üî G√ºnl√ºk Hayat √ñrnekleri</title>
  <style>
    :root{
      --bg-gradient: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
      --bg: #0f172a;
      --text: #f1f5f9;
      --text-muted: #94a3b8;
      --border: #334155;
      --border-strong: #475569;
      --panel: #1e293b;
      --panel-hover: #334155;
      --card-bg: #f8fafc;
      --card-text: #1e293b;
      --green: #10b981;
      --green-glow: #34d399;
      --rose: #f43f5e;
      --rose-glow: #fb7185;
      --accent: #06b6d4;
      --accent-glow: #22d3ee;
    }
    
    *{box-sizing:border-box;margin:0;padding:0}
    
    html,body{height:100%}
    
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
      background:var(--bg);
      background-image:var(--bg-gradient);
      background-attachment:fixed;
      color:var(--text);
      line-height:1.6;
    }
    
    .container{
      max-width:1200px;
      margin:0 auto;
      padding:16px 20px 120px;
    }
    
    header.appbar{
      position:sticky;
      top:0;
      z-index:10;
      background:rgba(15,23,42,.85);
      backdrop-filter:saturate(1.3) blur(12px);
      border-bottom:1px solid var(--border);
      border-radius:0 0 16px 16px;
      padding:16px 20px;
      margin-bottom:24px;
      box-shadow:0 4px 20px rgba(0,0,0,.3);
      transform:translateY(0);
      transition:transform 0.3s ease;
    }
    
    header.appbar.hidden{
      transform:translateY(-100%);
    }
    
    @media (min-width:768px){
      header.appbar.hidden{
        transform:translateY(0);
      }
    }
    
    h1{
      font-size:clamp(22px,3.5vw,32px);
      margin:0 0 8px;
      font-weight:800;
      background:linear-gradient(120deg, var(--accent-glow), var(--green-glow));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    
    p.lead{
      margin:0;
      color:var(--text-muted);
      font-size:clamp(13px,2.2vw,15px);
      line-height:1.5;
    }
    
    .toolbar{
      display:none;
    }
    
    @media (min-width:768px){
      .toolbar{
        display:flex;
        gap:12px;
        justify-content:center;
        margin-top:24px;
      }
    }
    
    .btn{
      appearance:none;
      border:2px solid var(--accent);
      background:linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
      color:#fff;
      border-radius:12px;
      padding:12px 24px;
      cursor:pointer;
      box-shadow:0 4px 12px rgba(6,182,212,.3);
      font-weight:600;
      font-size:15px;
      transition:all .2s ease;
      position:relative;
      overflow:hidden;
    }
    
    .btn::before{
      content:'';
      position:absolute;
      top:0;
      left:-100%;
      width:100%;
      height:100%;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
      transition:left .5s;
    }
    
    .btn:hover{
      transform:translateY(-2px);
      box-shadow:0 6px 20px rgba(6,182,212,.4);
      border-color:var(--accent-glow);
    }
    
    .btn:hover::before{
      left:100%;
    }
    
    .btn:active{
      transform:translateY(0);
    }
    
    @media (min-width:768px){
      .btn{
        padding:16px 32px;
        font-size:16px;
      }
    }
    
    .score{
      font-size:16px;
      color:var(--text);
      margin:8px 0 24px;
      padding:12px 20px;
      background:rgba(6,182,212,.1);
      border:1px solid var(--accent);
      border-radius:12px;
      display:inline-block;
    }
    
    .score b{
      color:var(--accent-glow);
      font-size:20px;
    }

    .zone{
      border:2px solid var(--border-strong);
      border-radius:16px;
      background:var(--panel);
      padding:16px;
      min-height:8rem;
      transition:all .2s ease;
      box-shadow:0 2px 8px rgba(0,0,0,.2);
    }
    
    .zone.pool{
      border-style:dashed;
      border-color:var(--accent);
      background:rgba(6,182,212,.05);
    }
    
    .zone:hover{
      background:var(--panel-hover);
      border-color:var(--accent);
      transform:translateY(-2px);
      box-shadow:0 4px 16px rgba(0,0,0,.3);
    }
    
    .zone-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:12px;
      padding-bottom:8px;
      border-bottom:1px solid var(--border);
    }
    
    .zone-title{
      font-weight:700;
      font-size:15px;
      color:var(--accent-glow);
    }
    
    .zone-count{
      font-size:13px;
      color:var(--text-muted);
      background:rgba(148,163,184,.1);
      padding:2px 8px;
      border-radius:8px;
    }
    
    .cards{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }

    .card{
      user-select:none;
      cursor:move;
      border:2px solid #cbd5e1;
      background:var(--card-bg);
      color:var(--card-text);
      border-radius:10px;
      padding:10px 16px;
      box-shadow:0 2px 6px rgba(0,0,0,.15);
      font-size:14px;
      font-weight:500;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition:all .15s ease;
    }
    
    .card:hover{
      box-shadow:0 4px 12px rgba(0,0,0,.25);
      transform:translateY(-2px);
      border-color:#94a3b8;
    }
    
    .card.correct{
      border-color:var(--green);
      background:linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      box-shadow:0 4px 12px rgba(16,185,129,.3);
    }
    
    .card.wrong{
      border-color:var(--rose);
      background:linear-gradient(135deg, #ffe4e6 0%, #fecdd3 100%);
      box-shadow:0 4px 12px rgba(244,63,94,.3);
    }
    
    .card.selected{
      outline:3px solid var(--accent);
      outline-offset:2px;
      transform:scale(1.05);
      box-shadow:0 0 20px rgba(6,182,212,.5);
    }
    
    .tick{
      font-size:14px;
      font-weight:bold;
    }

    .grid{
      display:grid;
      gap:16px;
      margin-bottom:32px;
    }
    
    @media (min-width:640px){
      .grid{
        grid-template-columns:repeat(2,minmax(0,1fr));
      }
    }
    
    @media (min-width:1024px){
      .grid{
        grid-template-columns:repeat(3,minmax(0,1fr));
      }
    }

    .fab{
      position:fixed;
      right:16px;
      bottom:16px;
      display:flex;
      flex-direction:column;
      gap:10px;
      z-index:20;
    }
    
    @media (min-width:768px){
      .fab{
        display:none;
      }
    }
    
    .desktop-controls{
      display:none;
    }
    
    @media (min-width:768px){
      .desktop-controls{
        display:flex;
        justify-content:center;
        gap:16px;
        margin-top:32px;
        flex-wrap:wrap;
      }
    }

    .muted{
      color:var(--text-muted);
      font-size:13px;
      margin-top:32px;
      padding:16px;
      background:rgba(148,163,184,.05);
      border-radius:12px;
      border-left:3px solid var(--accent);
    }
    
    .section-title{
      font-size:18px;
      margin:0 0 12px;
      font-weight:700;
      color:var(--accent-glow);
    }
    
    .modal-overlay{
      position:fixed;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:rgba(0,0,0,0.8);
      backdrop-filter:blur(8px);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
      animation:fadeIn 0.3s ease;
    }
    
    .modal-overlay.show{
      display:flex;
    }
    
    @keyframes fadeIn{
      from{opacity:0;}
      to{opacity:1;}
    }
    
    @keyframes scaleIn{
      from{transform:scale(0.8); opacity:0;}
      to{transform:scale(1); opacity:1;}
    }
    
    .modal-card{
      background:linear-gradient(135deg, var(--panel) 0%, #334155 100%);
      border:3px solid var(--green-glow);
      border-radius:24px;
      padding:48px 32px;
      max-width:500px;
      width:90%;
      text-align:center;
      box-shadow:0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(52,211,153,0.2);
      animation:scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    .modal-icon{
      font-size:80px;
      margin-bottom:24px;
      animation:bounce 0.6s ease;
    }
    
    @keyframes bounce{
      0%, 100%{transform:translateY(0);}
      50%{transform:translateY(-20px);}
    }
    
    .modal-title{
      font-size:32px;
      font-weight:800;
      background:linear-gradient(120deg, var(--green-glow), var(--accent-glow));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      margin:0 0 16px;
    }
    
    .modal-text{
      font-size:18px;
      color:var(--text);
      margin:0 0 32px;
      line-height:1.6;
    }
    
    .modal-btn{
      appearance:none;
      border:2px solid var(--green);
      background:linear-gradient(135deg, var(--green) 0%, #059669 100%);
      color:#fff;
      border-radius:12px;
      padding:16px 48px;
      cursor:pointer;
      box-shadow:0 4px 12px rgba(16,185,129,.4);
      font-weight:700;
      font-size:16px;
      transition:all .2s ease;
    }
    
    .modal-btn:hover{
      transform:translateY(-2px);
      box-shadow:0 6px 20px rgba(16,185,129,.6);
      border-color:var(--green-glow);
    }
    
    .modal-btn:active{
      transform:translateY(0);
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="appbar">
      <div>
        <h1>‚ö° Enerji Bi√ßimleri ‚Üî G√ºnl√ºk Hayat √ñrnekleri</h1>
        <p class="lead">Kartlarƒ± uygun enerji kategorisine <b>s√ºr√ºkleyip bƒ±rakƒ±n</b>. ƒ∞sterseniz bir karta tƒ±klayƒ±p ardƒ±ndan bir kategoriye tƒ±klayarak da yerle≈ütirebilirsiniz. Bazƒ± olaylar birden fazla enerji d√∂n√º≈ü√ºm√º i√ßerebilir; en baskƒ±n olanƒ± d√º≈ü√ºn√ºn.</p>
      </div>
    </header>

    <section class="score" id="scoreArea">Skor: <b>0</b> / 0</section>

    <section style="margin-bottom:24px">
      <h2 class="section-title">üé¥ Kart Havuzu</h2>
      <div class="zone pool" id="zone-pool" data-zone="pool" role="region" aria-label="Bo≈ü Kart Alanƒ±">
        <div class="zone-header"><span class="zone-title">Bo≈ü Kart Alanƒ±</span><span class="zone-count" id="count-pool">0 kart</span></div>
        <div class="cards" id="cards-pool"></div>
      </div>
    </section>

    <section>
      <h2 class="section-title">üìö Enerji Kategorileri</h2>
      <div class="grid" id="grid-categories"></div>
    </section>

    <div class="desktop-controls">
      <button class="btn" id="btnCheck">‚úì Kontrol Et</button>
      <button class="btn" id="btnReset">‚Üª Sƒ±fƒ±rla</button>
      <button class="btn" id="btnReveal">üëÅ Cevaplarƒ± G√∂ster</button>
    </div>

    <div class="fab">
      <button class="btn" id="fabCheck" aria-label="Kontrol Et">‚úì</button>
      <button class="btn" id="fabReset" aria-label="Sƒ±fƒ±rla">‚Üª</button>
      <button class="btn" id="fabReveal" aria-label="Cevaplarƒ± G√∂ster">üëÅ</button>
    </div>

    <footer class="muted">
      <strong>üí° Not:</strong> √ñrneƒüin "mum alevi" kimyasal enerjinin ƒ±≈üƒ±k ve ƒ±sƒ±ya d√∂n√º≈ümesine √∂rnektir. Bu etkinlikte kartlar baskƒ±n g√∂r√ºlen enerji bi√ßimine g√∂re e≈üle≈ütirilecek ≈üekilde hazƒ±rlanmƒ±≈ütƒ±r.
    </footer>
  </div>

  <!-- Tebrikler Modal -->
  <div class="modal-overlay" id="congratsModal">
    <div class="modal-card">
      <div class="modal-icon">üéâ</div>
      <h2 class="modal-title">Tebrikler!</h2>
      <p class="modal-text">T√ºm e≈üle≈ümeleri doƒüru yaptƒ±nƒ±z! üåü</p>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;">
        <button class="modal-btn" onclick="document.getElementById('congratsModal').classList.remove('show')">Kapat</button>
        <button class="modal-btn" onclick="document.getElementById('congratsModal').classList.remove('show');resetAll();">üîÑ Yeniden Ba≈ülat</button>
      </div>
    </div>
  </div>

  <script>
  // --- Veri ---
  const CATEGORIES = [
    { id: "mekanik", title: "‚öôÔ∏è Mekanik Enerji" },
    { id: "isi", title: "üî• Isƒ± (Termal) Enerji" },
    { id: "elektrik", title: "‚ö° Elektrik Enerjisi" },
    { id: "ses", title: "üîä Ses Enerjisi" },
    { id: "isik", title: "üí° I≈üƒ±k Enerjisi" },
    { id: "kimyasal", title: "üß™ Kimyasal Enerji" },
    { id: "nukleer", title: "‚ò¢Ô∏è N√ºkleer Enerji" },
  ];

  const EXAMPLES = [
    { id: "ex1", text: "Zƒ±playan top", category: "mekanik", hint: "Potansiyel ‚Üî kinetik enerji d√∂n√º≈ü√ºm√º" },
    { id: "ex2", text: "Bisiklet pedalƒ±yla hƒ±zlanma", category: "mekanik", hint: "Kas g√ºc√º hareket enerjisine d√∂n√º≈ü√ºr" },
    { id: "ex3", text: "R√ºzg√¢r t√ºrbini kanadƒ±nƒ±n d√∂nmesi", category: "mekanik", hint: "Havanƒ±n hareketi kanatlarƒ± √ßevirir" },
    { id: "ex4", text: "Kaynayan √ßaydanlƒ±k", category: "isi", hint: "Isƒ±, suyun sƒ±caklƒ±ƒüƒ±nƒ± artƒ±rƒ±r" },
    { id: "ex5", text: "S√ºrt√ºnerek ƒ±sƒ±nan eller", category: "isi", hint: "S√ºrt√ºnme ƒ±sƒ± √ºretir" },
    { id: "ex6", text: "Fƒ±rƒ±nda pi≈üen kek", category: "isi", hint: "Fƒ±rƒ±ndaki ƒ±sƒ± yemeƒüi pi≈üirir" },
    { id: "ex7", text: "Telefonu ≈üarj etmek", category: "elektrik", hint: "Elektrik, bataryada depolanƒ±r" },
    { id: "ex8", text: "Prizden √ßalƒ±≈üan bilgisayar", category: "elektrik", hint: "Cihazƒ±n √ßalƒ±≈ümasƒ± i√ßin elektrik" },
    { id: "ex9", text: "Elektrikli s√ºp√ºrge", category: "elektrik", hint: "Elektrik motoru √ßalƒ±≈ütƒ±rƒ±r" },
    { id: "ex10", text: "Zil √ßalmasƒ±", category: "ses", hint: "Titre≈üimler havada yayƒ±lan ses dalgalarƒ±dƒ±r" },
    { id: "ex11", text: "Hoparl√∂rden m√ºzik", category: "ses", hint: "Elektrik sinyali titre≈üime d√∂n√º≈ü√ºr" },
    { id: "ex12", text: "Ambulans sireni", category: "ses", hint: "Y√ºksek frekanslƒ± ses dalgalarƒ±" },
    { id: "ex13", text: "El feneri ƒ±≈üƒ±ƒüƒ±", category: "isik", hint: "Elektrik ‚Üí ƒ±≈üƒ±k" },
    { id: "ex14", text: "Mum alevi", category: "isik", hint: "Kimyasal enerji ‚Üí ƒ±≈üƒ±k ve ƒ±sƒ±" },
    { id: "ex15", text: "G√ºne≈ü panellerine gelen g√ºne≈ü ƒ±≈üƒ±ƒüƒ±", category: "isik", hint: "I≈üƒ±ƒüƒ±n enerjisi elektrik √ºretir" },
    { id: "ex16", text: "Pillerin enerji depolamasƒ±", category: "kimyasal", hint: "Kimyasal baƒülarda enerji" },
    { id: "ex17", text: "Benzinle √ßalƒ±≈üan araba", category: "kimyasal", hint: "Yakƒ±t yanƒ±nca enerji a√ßƒ±ƒüa √ßƒ±kar" },
    { id: "ex19", text: "N√ºkleer santralde enerji √ºretimi", category: "nukleer", hint: "√áekirdek tepkimeleri ƒ±sƒ± ve elektrik √ºretir" },
    { id: "ex20", text: "G√ºne≈üteki reaksiyonlar", category: "nukleer", hint: "G√ºne≈ü enerjisinin kaynaƒüƒ± n√ºkleer tepkimelerdir" },
    { id: "ex21", text: "Radyoterapi cihazƒ±", category: "nukleer", hint: "Radyoaktif kaynaklardan enerji" },
  ];

  // --- Yardƒ±mcƒ±lar ---
  function shuffle(arr){const a=[...arr];for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}

  // --- Durum ---
  let items = shuffle(EXAMPLES);
  let placement = Object.fromEntries(EXAMPLES.map(e=>[e.id,'pool'])); // exId -> zoneId
  let checked = false;
  let selected = null; // click-to-place

  // --- Ses efektleri ---
  const soundTrue = new Audio('true.mp3');
  const soundFalse = new Audio('false.mp3');
  const soundConq = new Audio('conq.mp3');

  // --- DOM referanslarƒ± ---
  const gridEl = document.getElementById('grid-categories');
  const poolCardsEl = document.getElementById('cards-pool');
  const poolZoneEl = document.getElementById('zone-pool');
  const poolCountEl = document.getElementById('count-pool');
  const scoreEl = document.getElementById('scoreArea');

  // --- Kategori alanlarƒ±nƒ± olu≈ütur ---
  function buildCategoryGrid(){
    gridEl.innerHTML = '';
    for(const c of CATEGORIES){
      const zone = document.createElement('div');
      zone.className = 'zone';
      zone.setAttribute('data-zone', c.id);
      zone.setAttribute('role','region');
      zone.setAttribute('aria-label', c.title);
      zone.addEventListener('dragover', e=>e.preventDefault());
      zone.addEventListener('drop', e=>handleDrop(e,c.id));
      zone.addEventListener('click', ()=>handleClickZone(c.id));

      const header = document.createElement('div');
      header.className = 'zone-header';
      const title = document.createElement('span');
      title.className = 'zone-title';
      title.textContent = c.title;
      const count = document.createElement('span');
      count.className = 'zone-count';
      count.id = `count-${c.id}`;
      header.appendChild(title); header.appendChild(count);

      const cards = document.createElement('div');
      cards.className = 'cards';
      cards.id = `cards-${c.id}`;

      zone.appendChild(header); zone.appendChild(cards);
      gridEl.appendChild(zone);
    }

    // Pool olaylarƒ±
    poolZoneEl.addEventListener('dragover', e=>e.preventDefault());
    poolZoneEl.addEventListener('drop', e=>handleDrop(e,'pool'));
    poolZoneEl.addEventListener('click', ()=>handleClickZone('pool'));
  }

  // --- Touch Desteƒüi ƒ∞√ßin Deƒüi≈ükenler ---
  let touchDraggedId = null;
  let ghostElement = null;
  let touchStartX = 0;
  let touchStartY = 0;

  // --- Kart ≈üablonu ---
  function createCard(it){
    const el = document.createElement('div');
    el.className = 'card';
    el.draggable = true;
    el.title = it.hint || '';
    el.textContent = it.text;

    if(checked){
      const good = placement[it.id] === it.category;
      el.classList.add(good? 'correct':'wrong');
      const tick = document.createElement('span');
      tick.className = 'tick';
      tick.textContent = good ? '‚úì' : '‚úó';
      el.appendChild(tick);
    }

    if(selected === it.id){
      el.classList.add('selected');
      el.setAttribute('aria-pressed','true');
    }

    el.addEventListener('dragstart', ev=>{
      ev.dataTransfer.setData('text/plain', it.id);
      ev.dataTransfer.effectAllowed = 'move';
    });
    el.addEventListener('click', ()=>handleClickItem(it.id));

    // Touch olaylarƒ±
    el.addEventListener('touchstart', (e)=>handleTouchStart(e, it.id));
    el.addEventListener('touchmove', handleTouchMove);
    el.addEventListener('touchend', handleTouchEnd);

    return el;
  }

  // --- Touch Olaylarƒ± ---
  function handleTouchStart(e, id){
    if(checked) return;
    touchDraggedId = id;
    const touch = e.touches[0];
    touchStartX = touch.clientX;
    touchStartY = touch.clientY;
    
    // Ghost element olu≈ütur
    ghostElement = e.currentTarget.cloneNode(true);
    ghostElement.style.position = 'fixed';
    ghostElement.style.pointerEvents = 'none';
    ghostElement.style.zIndex = '1000';
    ghostElement.style.opacity = '0.8';
    ghostElement.style.transform = 'scale(1.1)';
    ghostElement.style.left = touch.clientX - 50 + 'px';
    ghostElement.style.top = touch.clientY - 20 + 'px';
    document.body.appendChild(ghostElement);
    
    e.preventDefault();
  }

  function handleTouchMove(e){
    if(!touchDraggedId || !ghostElement) return;
    const touch = e.touches[0];
    ghostElement.style.left = touch.clientX - 50 + 'px';
    ghostElement.style.top = touch.clientY - 20 + 'px';
    
    // Otomatik scroll
    const scrollThreshold = 100;
    const scrollSpeed = 10;
    const windowHeight = window.innerHeight;
    
    if(touch.clientY < scrollThreshold){
      // Yukarƒ± scroll
      window.scrollBy(0, -scrollSpeed);
    } else if(touch.clientY > windowHeight - scrollThreshold){
      // A≈üaƒüƒ± scroll
      window.scrollBy(0, scrollSpeed);
    }
    
    e.preventDefault();
  }

  function handleTouchEnd(e){
    if(!touchDraggedId) return;
    
    const touch = e.changedTouches[0];
    const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
    
    // En yakƒ±n zone'u bul
    let zone = dropTarget;
    while(zone && !zone.hasAttribute('data-zone')){
      zone = zone.parentElement;
    }
    
    if(zone){
      const zoneId = zone.getAttribute('data-zone');
      placement[touchDraggedId] = zoneId;
      selected = null;
      render();
    }
    
    // Temizle
    if(ghostElement){
      document.body.removeChild(ghostElement);
      ghostElement = null;
    }
    touchDraggedId = null;
    e.preventDefault();
  }

  // --- Yerle≈üimden g√∂r√ºn√ºme ---
  function render(){
    // Grupla
    const groups = { pool: [] };
    for(const c of CATEGORIES) groups[c.id] = [];
    for(const it of items){ groups[placement[it.id] || 'pool'].push(it); }

    // Havuz
    poolCardsEl.innerHTML = '';
    for(const it of groups.pool){ poolCardsEl.appendChild(createCard(it)); }
    poolCountEl.textContent = `${groups.pool.length} kart`;

    // Kategoriler
    for(const c of CATEGORIES){
      const wrap = document.getElementById(`cards-${c.id}`);
      const count = document.getElementById(`count-${c.id}`);
      wrap.innerHTML = '';
      for(const it of groups[c.id]) wrap.appendChild(createCard(it));
      count.textContent = `${groups[c.id].length} kart`;
    }

    // Skor
    const score = computeScore();
    scoreEl.innerHTML = `Skor: <b>${score.correct}</b> / ${score.total}`;
  }

  function computeScore(){
    let correct = 0; const total = EXAMPLES.length;
    for(const it of EXAMPLES){ if(placement[it.id] === it.category) correct++; }
    return {correct,total};
  }

  // --- Etkile≈üimler ---
  function handleDrop(e, zoneId){
    e.preventDefault();
    const id = e.dataTransfer.getData('text/plain');
    if(!id) return;
    placement[id] = zoneId; selected = null; render();
  }
  function handleClickItem(id){ selected = (selected === id ? null : id); render(); }
  function handleClickZone(zoneId){ if(!selected) return; placement[selected] = zoneId; selected = null; render(); }

  function resetAll(){ 
    items = shuffle(EXAMPLES); 
    placement = Object.fromEntries(EXAMPLES.map(e=>[e.id,'pool'])); 
    checked = false; 
    selected = null; 
    // Kontrol Et butonlarƒ±nƒ± tekrar g√∂ster
    document.getElementById('btnCheck').style.display = '';
    document.getElementById('fabCheck').style.display = '';
    render(); 
  }
  function revealAll(){ 
    for(const it of EXAMPLES) placement[it.id] = it.category; 
    checked = true; 
    selected = null; 
    // Kontrol Et butonlarƒ±nƒ± gizle
    document.getElementById('btnCheck').style.display = 'none';
    document.getElementById('fabCheck').style.display = 'none';
    render(); 
  }
  function checkNow(){ 
    checked = true; 
    render(); 
    
    // Ses ve mesaj kontrol√º
    const score = computeScore();
    let correctCount = 0;
    let wrongCount = 0;
    
    for(const it of EXAMPLES){
      if(placement[it.id] === it.category) correctCount++;
      else wrongCount++;
    }
    
    if(correctCount > 0 && wrongCount > 0){
      // Hem doƒüru hem yanlƒ±≈ü var
      soundFalse.play();
    } else if(correctCount === EXAMPLES.length){
      // Hepsi doƒüru!
      soundConq.play();
      setTimeout(()=>{
        document.getElementById('congratsModal').classList.add('show');
      }, 500);
    } else if(wrongCount > 0){
      // Sadece yanlƒ±≈ülar var
      soundFalse.play();
    }
  }

  // --- Olay baƒülama ---
  document.getElementById('btnCheck').addEventListener('click', checkNow);
  document.getElementById('btnReset').addEventListener('click', resetAll);
  document.getElementById('btnReveal').addEventListener('click', revealAll);
  document.getElementById('fabCheck').addEventListener('click', checkNow);
  document.getElementById('fabReset').addEventListener('click', resetAll);
  document.getElementById('fabReveal').addEventListener('click', revealAll);

  // --- Mobilde scroll yaparken appbar gizle ---
  let lastScrollTop = 0;
  const appbar = document.querySelector('header.appbar');
  
  window.addEventListener('scroll', ()=>{
    if(window.innerWidth >= 768) return; // Sadece mobilde √ßalƒ±≈üsƒ±n
    
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    if(scrollTop > lastScrollTop && scrollTop > 100){
      // A≈üaƒüƒ± scroll
      appbar.classList.add('hidden');
    } else {
      // Yukarƒ± scroll
      appbar.classList.remove('hidden');
    }
    
    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
  });

  // --- Ba≈ülat ---
  buildCategoryGrid();
  render();
  </script>
</body>
</html>
